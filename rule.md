## 规则原型概要

- 场景：$$X_t=\{O_{t,1},\dots,O_{t,M_t}\},\ M_t\in\{2,3,4,5,6,7,8\}$$
- 物体属性：$$s,r,p,R,d$$（形状、尺度、位置、姿态、密度）
- 主要派生函数：`size, ar, axis, den, dist, dir, ang, touch, contain, cent, area, ord_x, sym`
- 模式变换：等差、等比、离散序列、刚体/仿射、联动守恒。
- meta 记录：`rule_id, rule_group, difficulty, K_R, involved_indices, base_attrs_used, derived_funcs, pattern_type, pattern_params, v1/v2/v3, M_t, frames`

## R1 物体属性推理（16 条）
- **R1-1**：$$\text{size}_2-\text{size}_1=\Delta,\ \text{size}_3=2\text{size}_2-\text{size}_1$$
- **R1-2**：$$R_{t+1}=R_t\cdot\text{Rot}(\hat{u},\theta)$$
- **R1-3**：$$(R_1,R_2,R_3)=(Q_0,Q_{90},Q_{180})$$
- **R1-4**：$$p_{t+1}=p_t+\Delta p$$
- **R1-5**：$$d_2-d_1=\Delta,\ d_3=2d_2-d_1$$
- **R1-6**：A→B 发生形状变化的位置在 B→C 继续变化
- **R1-7**：$$\text{cent}(S_t)=\text{const},\ r_{t+1}=k r_t$$（质心守恒缩放）
- **R1-8**：$$\text{size}(i)+\text{size}(j)=C$$，一增一减
- **R1-9**：$$r_{t+1}=k r_t,\ R_{t+1}=R_t\text{Rot}(\hat{u},\theta)$$（复合位姿缩放）
- **R1-10**：尺度/姿态交替互换（形状固定）
- **R1-11**：移动方向与主轴一致（主轴对齐位移）
- **R1-12**：密度越大缩放越大，密度越小缩放越小（密度驱动缩放）
- **R1-13**：镜像位置下密度一增一减（镜像密度缩放）
- **R1-14**：距离越近尺寸变化越剧烈（距离尺寸倒数）
- **R1-15**：距离越近密度变化越剧烈（距离密度倒数）
- **R1-16**：不同形状数量按等差增加（几何体个数变化）

## R2 成对空间关系（R2-1–R2-12）
- **R2-1**：$$\text{dist}_2=k\text{dist}_1,\ \text{dist}_3=k\text{dist}_2$$
- **R2-2**：$$r_{t+1}=r_t\odot s,\ s_{axis}=k,\ s_{\text{others}}=\tfrac{1}{\sqrt{k}}$$
- **R2-3**：方向旋转等差，距离恒定
- **R2-4**：$$\rho_{t+1}-\rho_t=\Delta,\ \rho_t\in(0,1)$$
- **R2-5**：$$\text{ang}_3=2\text{ang}_2-\text{ang}_1$$
- **R2-6**：共同旋转，夹角恒定
- **R2-7**：加速旋转，后续旋转幅度增加
- **R2-8**：行星公转，不同物体角速度不同
- **R2-9**：易位姿态转换，按形状延续姿态变化
- **R2-10**：易位尺寸转换，按形状延续尺寸变化
- **R2-11**：易位密度转换，按形状延续密度变化
- **R2-12**：$$(r_x,r_y,r_z)\to(r_y,r_z,r_x)\to(r_z,r_x,r_y)$$

## R3 多物体构型（R3-1,R3-2,R3-3,R3-7–R3-11）
- **R3-1**：所有几何体沿螺旋上升，角度步长一致且高度等差递增
- **R3-2**：$$\text{ord}_x(S_t)$$ 按固定置换循环
- **R3-3**：6 个几何体直线阵型整体等角度旋转并延续
- **R3-7**：球体位置轮换，顺/逆时针按步长轮换（三角形/五边形）
- **R3-8**：多对象密度变化，按位置延续增减（直线/三角形/矩形/五边形）
- **R3-9**：多对象尺度变化，按位置延续增减（直线/三角形/矩形/五边形）
- **R3-10**：多对象形状变化，按位置延续转换（直线/三角形/矩形/五角星）
- **R3-11**：正弦位置转换，位置沿正弦采样点连续滑动（45°倍数/0°）

## R4 抽象逻辑演化（R4-1–R4-10）
- **R4-1**：从可外推的 R1 规则中随机抽取（R1-1,R1-2,R1-4,R1-5），给定前两帧直接预测下下帧（跳过一帧）
- **R4-2**：节点分裂演化，初始 1–3 个几何体，每帧分裂为 2 个，体积减半，形状/密度不变，姿态随机变化
- **R4-3**：节点融合演化，初始 1–6 个几何体，每帧仅同形状两两融合，体积相加，形状/密度不变，姿态随机变化
- **R4-4**：几何阵型演化，初始 6 个物体为六边形，随后边数减少量按“后一帧比前一帧少 1”变化，阵型在直线/三角形/矩形/五角星/六边形中切换
- **R4-5**：接触式属性传染，按尺寸比较确定传染源，传染尺寸/密度/位姿中的 0–3 个属性，传染从第二帧开始，每轮后新增 2 个随机物体
- **R4-6**：进阶行星公转，公转中心按由内到外顺序轮流切换，每一帧改变一次中心，不允许跨越
- **R4-7**：对称转换，左右镜像动作相反同步，左侧移动/旋转则右侧做镜像反向动作
- **R4-8**：阻尼弹跳，每帧为弹跳后的最高点高度，按固定衰减比例递减
- **R4-9**：软体挤压，底部球体受上方几何体挤压形变，几何体增减导致形变程度变化
- **R4-10**：多米诺骨牌，倾斜角与倒下状态沿同形立方体链条逐帧传播

## 规则总数
规则总数为 54。
