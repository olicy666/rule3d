## 规则原型概要

- 场景：$$X_t=\{O_{t,1},\dots,O_{t,M_t}\},\ M_t\in\{2,3,4,5,6,7,8\}$$
- 物体属性：$$s,r,p,R,d$$（形状、尺度、位置、姿态、密度）
- 主要派生函数：`size, ar, axis, den, dist, dir, ang, touch, contain, cent, area, ord_x, sym`
- 模式变换：等差、等比、离散序列、刚体/仿射、联动守恒。
- meta 记录：`rule_id, rule_group, difficulty, K_R, involved_indices, base_attrs_used, derived_funcs, pattern_type, pattern_params, v1/v2/v3, M_t, frames`

## R1 物体属性推理（17 条）
- **R1-1**：$$\text{size}_2-\text{size}_1=\Delta,\ \text{size}_3=2\text{size}_2-\text{size}_1$$
- **R1-2**：$$(r_x,r_y,r_z)\to(r_y,r_z,r_x)\to(r_z,r_x,r_y)$$
- **R1-3**：$$R_{t+1}=R_t\cdot\text{Rot}(\hat{u},\theta)$$
- **R1-4**：$$(R_1,R_2,R_3)=(Q_0,Q_{90},Q_{180})$$
- **R1-5**：$$p_{t+1}=p_t+\Delta p$$
- **R1-6**：$$d_2-d_1=\Delta,\ d_3=2d_2-d_1$$
- **R1-7**：A→B 发生形状变化的位置在 B→C 继续变化
- **R1-8**：$$\text{cent}(S_t)=\text{const},\ r_{t+1}=k r_t$$（质心守恒缩放）
- **R1-9**：$$\text{size}(i)+\text{size}(j)=C$$，一增一减
- **R1-10**：$$r_{t+1}=k r_t,\ R_{t+1}=R_t\text{Rot}(\hat{u},\theta)$$（复合位姿缩放）
- **R1-11**：形状/尺度交替互换
- **R1-12**：移动方向与主轴一致（主轴对齐位移）
- **R1-13**：远离锚点变大，靠近锚点变小（距离驱动缩放）
- **R1-14**：镜像位置下尺寸一增一减（镜像互补缩放）
- **R1-15**：距离越近尺寸变化越剧烈（距离尺寸倒数）
- **R1-16**：距离越近密度变化越剧烈（距离密度倒数）
- **R1-17**：不同形状数量按等差增加（几何体个数变化）

## R2 成对空间关系（R2-1–R2-14）
- **R2-1**：$$\text{dist}_2=k\text{dist}_1,\ \text{dist}_3=k\text{dist}_2$$
- **R2-2**：$$r_{t+1}=r_t\odot s,\ s_{axis}=k,\ s_{\text{others}}=\tfrac{1}{\sqrt{k}}$$
- **R2-3**：方向旋转等差，距离恒定
- **R2-4**：$$\rho_{t+1}-\rho_t=\Delta,\ \rho_t\in(0,1)$$
- **R2-5**：$$\text{ang}_3=2\text{ang}_2-\text{ang}_1$$
- **R2-6**：$$\text{dist}(i,j)-\text{dist}(k,l)=C$$
- **R2-7**：刚体一致变换，所有 pairwise dist 不变
- **R2-8**：共同旋转，夹角恒定
- **R2-9**：加速旋转，后续旋转幅度增加
- **R2-10**：几何融合，等差步伐向中心收拢
- **R2-11**：行星公转，不同物体角速度不同
- **R2-12**：易位姿态转换，按形状延续姿态变化
- **R2-13**：易位尺寸转换，按形状延续尺寸变化
- **R2-14**：易位密度转换，按形状延续密度变化

## R3 多物体构型（R3-1–R3-11）
- **R3-1**：$$\text{area}_3=2\text{area}_2-\text{area}_1$$（允许 $\Delta=0$）
- **R3-2**：$$\text{ord}_x(S_t)$$ 按固定置换循环
- **R3-3**：左右独立等比缩放（$k_L,k_R$ 允许为 1）
- **R3-4**：$\text{sym}(S_2)=1,\ X_3=QX_2+t$（刚体对称变换）
- **R3-5**：$$u_t=\|\text{cent}(S_a)-\text{cent}(S_b)\|,\ u_3=2u_2-u_1$$（质心距离等差）
- **R3-6**：$$\text{area}(1,2,3)\cdot \text{dist}(1,2)=C$$
- **R3-7**：多对象位置轮换，顺/逆时针与相邻位置交换（直线/三角形/矩形/五角星）
- **R3-8**：多对象密度变化，按位置延续增减（直线/三角形/矩形/五角星）
- **R3-9**：多对象尺度变化，按位置延续增减（直线/三角形/矩形/五角星）
- **R3-10**：多对象形状变化，按位置延续转换（直线/三角形/矩形/五角星）
- **R3-11**：正弦位置转换，位置沿正弦采样点连续滑动（45°倍数/0°）

## 规则总数
规则总数为 42。
